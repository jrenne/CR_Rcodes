# ==============================================================
# Constructions of data files
# --------------------------------------------------------------
# Pauline Chikhani and Jean-Paul Renne (Jean-paul.renne@unil.ch)
# --------------------------------------------------------------
# Replication package of
# "AN ANALYTICAL FRAMEWORK TO PRICE LONG-DATED
#  CLIMATE-EXPOSED ASSETS"
# --------------------------------------------------------------
# This readme file explains how to produce data files used in the
# paper mentioned above.
# ==============================================================


# --------------------------------------------------------------
1. Construction of RCP_Mat_ACE.csv and RCP_Mat_MAGICC.csv
# --------------------------------------------------------------


The two CSV files `RCP_Mat_ACE.csv` and `RCP_Mat_MAGICC.csv` were created by appending the following lines to the end of the script `TempFitSim_ACE.m`, which is available in Traeger’s (2023) replication package. Running this script in MATLAB generates the CSV files and saves them in the current directory.


__________ Start of code __________

M_AT = [MagiccOcean.RCP3PD.Carboncycle(:,5) ...
    MagiccOcean.RCP45.Carboncycle(:,5) ...
    MagiccOcean.RCP6.Carboncycle(:,5) ...
    MagiccOcean.RCP85.Carboncycle(:,5)];

T_AT = [MagiccOcean.RCP3PD.Tempatm ...
    MagiccOcean.RCP45.Tempatm ...
    MagiccOcean.RCP6.Tempatm ...
    MagiccOcean.RCP85.Tempatm];

E_CO2 = [MagiccOcean.RCP3PD.EmissionCO2(:,1) + MagiccOcean.RCP3PD.EmissionCO2(:,2) ...
    MagiccOcean.RCP45.EmissionCO2(:,1) + MagiccOcean.RCP45.EmissionCO2(:,2) ...
    MagiccOcean.RCP6.EmissionCO2(:,1) + MagiccOcean.RCP6.EmissionCO2(:,2) ...
    MagiccOcean.RCP85.EmissionCO2(:,1) + MagiccOcean.RCP85.EmissionCO2(:,2)];

RF = [MagiccOcean.RCP3PD.RFtot ...
    MagiccOcean.RCP45.RFtot ...
    MagiccOcean.RCP6.RFtot ...
    MagiccOcean.RCP85.RFtot];

M = [MagiccOcean.RCP3PD.Year M_AT T_AT E_CO2 RF] ;
csvwrite("RCP_Mat_MAGICC.csv",M) ;

M = [(Startdate:timestep:Enddate)' Temp_combined_plot_atm_sim(:,[1 3 5 6])] ;
csvwrite("RCP_Mat_ACE.csv",M) ;

__________ End of code __________



Construction of RCP_Mat_ACE.csv and RCP_Mat_MAGICC.csv

The file `IRF_Traeger_5y.csv` was created by adding the following line to the end of the script `ImpulseResponseComplot_ACE.m` in Traeger’s (2023) replication package. Running this script in MATLAB generates the CSV file and saves it in the current directory.

```r
csvwrite("IRF_Traeger_5y.csv",[ACE_Impulse_DICE5' ACE_Impulse_Joos5']);
```


# --------------------------------------------------------------
3. Construction of Figure223_EPA_data.Rdat
# --------------------------------------------------------------

The `.Rdat` file `Figure223_EPA_data.Rdat` has been generated by adding the following line at the end of the script `plot_temperature_anoml.R`, available in the replication package of Tan et al. (2024), available at `https://github.com/bryanparthum/schfc-paper/tree/main`. (Specifically, this R script is available at `https://github.com/bryanparthum/schfc-paper/blob/main/paper/code/Figure%203%20-%20temperature%20anomaly.R`)

The code line to add is:

save(fair,hector,magicc,file="Figure223_EPA_data.Rdat")

It save an .Rdat file in the current working directory.



# --------------------------------------------------------------
# References
# --------------------------------------------------------------


Environmental Protection Agency (2023). EPA Report on the Social Cost of Greenhouse Gases: Esti-
mates Incorporating Recent Scientific Advances. EPA Report Docket ID No. EPA-HQ-OAR-2021-
0317, EPA.

Traeger, Christian. Data and Code for: ACE - Analytic Climate Economy. Nashville, TN: American Economic Association [publisher], 2023. Ann Arbor, MI: Inter-university Consortium for Political and Social Research [distributor], 2023-09-01. https://doi.org/10.3886/E154141V1

Tan, T., Rennels, L. & Parthum, B. The social costs of hydrofluorocarbons and the benefits from their expedited phase-down. Nat. Clim. Chang. 14, 55–60 (2024). https://doi.org/10.1038/s41558-023-01898-9
https://www.nature.com/articles/s41558-023-01898-9#citeas



The replication package of Traeger (2023) is available at:

https://www.openicpsr.org/openicpsr/project/154141/version/V1/view?path=/openicpsr/154141/fcr:versions/V1&type=project


